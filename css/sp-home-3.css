/* ======================================================
   sp-home-3 カスタマイズ設定
   ====================================================== */
:root {
  /* 全体のレイアウト */
  --sh3-padding: 0px;
  --sh3-side-padding: 20px;
  --sh3-card-width: 280px;         /* カードの横幅 */
  --sh3-card-gap: 20px;
  --sh3-card-bg: #ffffff;
  --sh3-card-radius: 12px;
  --sh3-card-shadow: 0 5px 15px rgba(0,0,0,0.06);

  /* 画像エリアの設定 */
  --sh3-img-aspect: 16 / 9;
  --sh3-img-bg: #ffffff;           /* 画像がない時の背景色（白） */

  /* 文字設定 */
  --sh3-title-size: 1.1rem;
  --sh3-title-color: #333333;
  --sh3-desc-size: 0.85rem;
  --sh3-desc-color: #666666;
  --sh3-date-size: 0.75rem;
  --sh3-date-color: #999999;

  /* スライドバー（スクロールバー）の色 */
  --sh3-bar-track-color: #f0f0f0;  /* バーの通り道 */
  --sh3-bar-thumb-color: #cccccc;  /* バー本体 */
}

/* ======================================================
   構造（不具合防止・画像なし時の枠線徹底除去済み）
   ====================================================== */

.sp-home-3 {
  padding: var(--sh3-padding);
  overflow: hidden;
  box-sizing: border-box;
  /* 外部JSによる勝手な動きを防止 */
  animation: none !important;
}

.sp-home-3 * {
  box-sizing: border-box;
}

/* 横スクロールエリア */
.sp-home-3 .sh3-gallery-viewport {
  display: flex;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  scroll-behavior: auto !important;
  -webkit-overflow-scrolling: touch;
  
  /* 下部にスライドバーを表示するための余白 */
  padding: 10px var(--sh3-side-padding) 25px; 
  gap: var(--sh3-card-gap);
  
  /* スクロールバーのデザイン(Firefox) */
  scrollbar-width: thin;
  scrollbar-color: var(--sh3-bar-thumb-color) var(--sh3-bar-track-color);
}

/* スクロールバーのデザイン(Chrome, Safari用) */
.sp-home-3 .sh3-gallery-viewport::-webkit-scrollbar {
  display: block;
  height: 4px; /* バーの太さ */
}
.sp-home-3 .sh3-gallery-viewport::-webkit-scrollbar-track {
  background: var(--sh3-bar-track-color);
  border-radius: 10px;
}
.sp-home-3 .sh3-gallery-viewport::-webkit-scrollbar-thumb {
  background: var(--sh3-bar-thumb-color);
  border-radius: 10px;
}

/* 個別アイテム（カード） */
.sp-home-3 .sh3-item-unit {
  flex: 0 0 var(--sh3-card-width);
  scroll-snap-align: center;
  background: var(--sh3-card-bg);
  border-radius: var(--sh3-card-radius);
  box-shadow: var(--sh3-card-shadow);
  text-decoration: none;
  color: inherit;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: box-shadow 0.2s ease;
  -webkit-tap-highlight-color: transparent;
  /* リンクのアウトラインを消す */
  outline: none !important;
  border: none !important;
}

.sp-home-3 .sh3-item-unit:active {
  transform: translateY(1px);
}

/* 画像エリア（画像なし時の枠線を徹底排除） */
.sp-home-3 .sh3-img-wrap {
  width: 100%;
  aspect-ratio: var(--sh3-img-aspect);
  background-color: var(--sh3-img-bg);
  border-radius: var(--sh3-card-radius) var(--sh3-card-radius) 0 0;
  overflow: hidden;
  margin-bottom: -1px; /* 下の要素との隙間を埋める */
  border: none !important;
  outline: none !important;
  display: block;
  position: relative;
}

.sp-home-3 .sh3-img-wrap img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  
  /* --- 画像がない場合の黒枠対策（ここが重要） --- */
  border-style: none !important;
  border-width: 0 !important;
  border: 0 !important;
  outline: none !important;
  
  /* 画像がない時にブラウザが表示する代替テキストやアイコンを消す */
  font-size: 0;
  color: transparent;
  text-indent: -9999px;
  
  /* iOS/Safariのデフォルトスタイルをリセット */
  -webkit-appearance: none;
}

/* 画像が読み込めない時の擬似要素も完全に消去 */
.sp-home-3 .sh3-img-wrap img::before,
.sp-home-3 .sh3-img-wrap img::after {
  content: none !important;
  display: none !important;
}

/* テキストエリア */
.sp-home-3 .sh3-body {
  padding: 18px 16px;
  display: flex;
  flex-direction: column;
  flex-grow: 1;
  text-align: left;
}

.sp-home-3 .sh3-item-title {
  font-size: var(--sh3-title-size);
  color: var(--sh3-title-color);
  margin: 0 0 10px 0;
  font-weight: bold;
  line-height: 1.4;
}

.sp-home-3 .sh3-item-desc {
  font-size: var(--sh3-desc-size);
  color: var(--sh3-desc-color);
  margin: 0 0 18px 0;
  line-height: 1.6;
  flex-grow: 1;
}

.sp-home-3 .sh3-item-date {
  font-size: var(--sh3-date-size);
  color: var(--sh3-date-color);
  margin: 0;
  text-align: right;
  font-family: sans-serif;
}